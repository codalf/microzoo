name: spring-boot
description: reference service written in java with spring boot
docker:
  image: microzoo-spring-boot
  environment:
    SPRING_PROFILES_ACTIVE: "{{profiles}}"
interfaces:
  downstream:
    base:
      protocol: http-rest
      port: 8080
  upstream:
    base:
      protocol: http-rest
databases:
  mysql:
    environment:
      SPRING_DATASOURCE_URL: "jdbc:mysql://{{database.id}}:{{manifest.constants.port}}/{{manifest.constants.db}}"
      SPRING_DATASOURCE_USERNAME: "{{manifest.constants.userName}}"
      SPRING_DATASOURCE_PASSWORD: "{{manifest.constants.password}}"
      WAIT_FOR: "{{database.id}}:{{manifest.constants.port}}"
  postgres:
    environment:
      SPRING_DATASOURCE_URL: "jdbc:postgresql://{{database.id}}:{{manifest.constants.port}}/{{manifest.constants.db}}"
      SPRING_DATASOURCE_USERNAME: "{{manifest.constants.userName}}"
      SPRING_DATASOURCE_PASSWORD: "{{manifest.constants.password}}"
      WAIT_FOR: "{{database.id}}:{{manifest.constants.port}}"
  default:
config:
  requestDelay: string
  responseDelay: string

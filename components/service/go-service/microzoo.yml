name: golang
description: reference service written in go
docker:
  image: microzoo-go # Behalte den vorhandenen Image-Namen
  environment:
    # Go-Service verwendet Umgebungsvariablen direkt
    MICROZOO_REQUESTDELAY: "{{config.requestDelay}}"
    MICROZOO_RESPONSEDELAY: "{{config.responseDelay}}"
    MICROZOO_ENTITYCOUNT: "{{config.entityCount}}"
    MICROZOO_PAYLOADSIZE: "{{config.payloadSize}}"
interfaces:
  downstream:
    base:
      protocol: http-rest
      port: 8080
  upstream:
    base:
      protocol: http-rest
databases:
  postgres:
    environment:
      MICROZOO_DB_HOST: "{{database.id}}"
      MICROZOO_DB_PORT: "{{manifest.constants.port}}"
      MICROZOO_DB_NAME: "{{manifest.constants.db}}"
      MICROZOO_DB_USER: "{{manifest.constants.userName}}"
      MICROZOO_DB_PASS: "{{manifest.constants.password}}"
      WAIT_FOR: "{{database.id}}:{{manifest.constants.port}}"
config:
  requestDelay: string
  responseDelay: string
  entityCount: number
  payloadSize: number
